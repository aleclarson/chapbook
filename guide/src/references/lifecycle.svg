<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="526pt" height="985pt"
 viewBox="0.00 0.00 526.09 985.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 981)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-981 522.09,-981 522.09,4 -4,4"/>
<!-- loadPage -->
<g id="node1" class="node">
<title>loadPage</title>
<path fill="none" stroke="black" d="M461.09,-977C461.09,-977 362.97,-977 362.97,-977 356.97,-977 350.97,-971 350.97,-965 350.97,-965 350.97,-953 350.97,-953 350.97,-947 356.97,-941 362.97,-941 362.97,-941 461.09,-941 461.09,-941 467.09,-941 473.09,-947 473.09,-953 473.09,-953 473.09,-965 473.09,-965 473.09,-971 467.09,-977 461.09,-977"/>
<text text-anchor="middle" x="412.03" y="-955.4" font-family="Helvetica,sans-Serif" font-size="12.00">Browser loads page</text>
</g>
<!-- setDefaults -->
<g id="node2" class="node">
<title>setDefaults</title>
<polygon fill="none" stroke="black" points="476.93,-904 347.12,-904 347.12,-868 476.93,-868 476.93,-904"/>
<text text-anchor="middle" x="412.03" y="-882.4" font-family="Helvetica,sans-Serif" font-size="12.00">State defaults are set</text>
</g>
<!-- loadPage&#45;&gt;setDefaults -->
<g id="edge1" class="edge">
<title>loadPage&#45;&gt;setDefaults</title>
<path fill="none" stroke="black" d="M412.03,-940.81C412.03,-932.79 412.03,-923.05 412.03,-914.07"/>
<polygon fill="black" stroke="black" points="415.53,-914.03 412.03,-904.03 408.53,-914.03 415.53,-914.03"/>
</g>
<!-- loadDom -->
<g id="node3" class="node">
<title>loadDom</title>
<polygon fill="none" stroke="black" points="518.15,-831 305.91,-831 305.91,-795 518.15,-795 518.15,-831"/>
<text text-anchor="middle" x="412.03" y="-815.4" font-family="Helvetica,sans-Serif" font-size="12.00">Story loads from DOM data</text>
<text text-anchor="middle" x="412.03" y="-803.4" font-family="Helvetica,sans-Serif" font-size="12.00">and trail is defaulted to start passage</text>
</g>
<!-- setDefaults&#45;&gt;loadDom -->
<g id="edge2" class="edge">
<title>setDefaults&#45;&gt;loadDom</title>
<path fill="none" stroke="black" d="M412.03,-867.81C412.03,-859.79 412.03,-850.05 412.03,-841.07"/>
<polygon fill="black" stroke="black" points="415.53,-841.03 412.03,-831.03 408.53,-841.03 415.53,-841.03"/>
</g>
<!-- restoreState -->
<g id="node4" class="node">
<title>restoreState</title>
<polygon fill="none" stroke="black" points="506.94,-758 317.12,-758 317.12,-722 506.94,-722 506.94,-758"/>
<text text-anchor="middle" x="412.03" y="-742.4" font-family="Helvetica,sans-Serif" font-size="12.00">State restores from local storage</text>
<text text-anchor="middle" x="412.03" y="-730.4" font-family="Helvetica,sans-Serif" font-size="12.00">if possible</text>
</g>
<!-- loadDom&#45;&gt;restoreState -->
<g id="edge3" class="edge">
<title>loadDom&#45;&gt;restoreState</title>
<path fill="none" stroke="black" d="M412.03,-794.81C412.03,-786.79 412.03,-777.05 412.03,-768.07"/>
<polygon fill="black" stroke="black" points="415.53,-768.03 412.03,-758.03 408.53,-768.03 415.53,-768.03"/>
</g>
<!-- addStyle -->
<g id="node5" class="node">
<title>addStyle</title>
<polygon fill="none" stroke="black" points="490.92,-685 333.13,-685 333.13,-649 490.92,-649 490.92,-685"/>
<text text-anchor="middle" x="412.03" y="-663.4" font-family="Helvetica,sans-Serif" font-size="12.00">Custom story styles added</text>
</g>
<!-- restoreState&#45;&gt;addStyle -->
<g id="edge4" class="edge">
<title>restoreState&#45;&gt;addStyle</title>
<path fill="none" stroke="black" d="M412.03,-721.81C412.03,-713.79 412.03,-704.05 412.03,-695.07"/>
<polygon fill="black" stroke="black" points="415.53,-695.03 412.03,-685.03 408.53,-695.03 415.53,-695.03"/>
</g>
<!-- addScript -->
<g id="node6" class="node">
<title>addScript</title>
<polygon fill="none" stroke="black" points="484.89,-612 339.16,-612 339.16,-576 484.89,-576 484.89,-612"/>
<text text-anchor="middle" x="412.03" y="-590.4" font-family="Helvetica,sans-Serif" font-size="12.00">Custom story scripts run</text>
</g>
<!-- addStyle&#45;&gt;addScript -->
<g id="edge5" class="edge">
<title>addStyle&#45;&gt;addScript</title>
<path fill="none" stroke="black" d="M412.03,-648.81C412.03,-640.79 412.03,-631.05 412.03,-622.07"/>
<polygon fill="black" stroke="black" points="415.53,-622.03 412.03,-612.03 408.53,-622.03 415.53,-622.03"/>
</g>
<!-- setPassageVars -->
<g id="node7" class="node">
<title>setPassageVars</title>
<polygon fill="none" stroke="black" points="505.28,-539 318.77,-539 318.77,-503 505.28,-503 505.28,-539"/>
<text text-anchor="middle" x="412.03" y="-517.4" font-family="Helvetica,sans-Serif" font-size="12.00">Passage at end of trail sets vars</text>
</g>
<!-- addScript&#45;&gt;setPassageVars -->
<g id="edge6" class="edge">
<title>addScript&#45;&gt;setPassageVars</title>
<path fill="none" stroke="black" d="M412.03,-575.81C412.03,-567.79 412.03,-558.05 412.03,-549.07"/>
<polygon fill="black" stroke="black" points="415.53,-549.03 412.03,-539.03 408.53,-549.03 415.53,-549.03"/>
</g>
<!-- displayPassage -->
<g id="node8" class="node">
<title>displayPassage</title>
<polygon fill="none" stroke="black" points="344.12,-466 161.93,-466 161.93,-430 344.12,-430 344.12,-466"/>
<text text-anchor="middle" x="253.03" y="-444.4" font-family="Helvetica,sans-Serif" font-size="12.00">Passage at end of trail displays</text>
</g>
<!-- setPassageVars&#45;&gt;displayPassage -->
<g id="edge7" class="edge">
<title>setPassageVars&#45;&gt;displayPassage</title>
<path fill="none" stroke="black" d="M373.94,-502.99C351.98,-493.19 324.16,-480.77 300.75,-470.31"/>
<polygon fill="black" stroke="black" points="301.91,-467 291.35,-466.11 299.06,-473.39 301.91,-467"/>
</g>
<!-- idle -->
<g id="node9" class="node">
<title>idle</title>
<polygon fill="none" stroke="black" points="203.91,-393 122.15,-393 122.15,-357 203.91,-357 203.91,-393"/>
<text text-anchor="middle" x="163.03" y="-371.4" font-family="Helvetica,sans-Serif" font-size="12.00">Engine idles</text>
</g>
<!-- displayPassage&#45;&gt;idle -->
<g id="edge8" class="edge">
<title>displayPassage&#45;&gt;idle</title>
<path fill="none" stroke="black" d="M231.24,-429.81C219.63,-420.66 205.19,-409.26 192.58,-399.32"/>
<polygon fill="black" stroke="black" points="194.63,-396.47 184.61,-393.03 190.3,-401.97 194.63,-396.47"/>
</g>
<!-- navRequested -->
<g id="node10" class="node">
<title>navRequested</title>
<polygon fill="none" stroke="black" points="214.26,-320 51.8,-320 51.8,-284 214.26,-284 214.26,-320"/>
<text text-anchor="middle" x="133.03" y="-298.4" font-family="Helvetica,sans-Serif" font-size="12.00">Player clicks a passage link</text>
</g>
<!-- idle&#45;&gt;navRequested -->
<g id="edge9" class="edge">
<title>idle&#45;&gt;navRequested</title>
<path fill="none" stroke="black" d="M155.76,-356.81C152.3,-348.62 148.08,-338.62 144.22,-329.48"/>
<polygon fill="black" stroke="black" points="147.34,-327.88 140.22,-320.03 140.89,-330.6 147.34,-327.88"/>
</g>
<!-- restart -->
<g id="node15" class="node">
<title>restart</title>
<polygon fill="none" stroke="black" points="383.9,-320 232.16,-320 232.16,-284 383.9,-284 383.9,-320"/>
<text text-anchor="middle" x="308.03" y="-298.4" font-family="Helvetica,sans-Serif" font-size="12.00">Player clicks a restart link</text>
</g>
<!-- idle&#45;&gt;restart -->
<g id="edge16" class="edge">
<title>idle&#45;&gt;restart</title>
<path fill="none" stroke="black" d="M197.76,-356.99C217.61,-347.27 242.7,-334.99 263.93,-324.59"/>
<polygon fill="black" stroke="black" points="265.63,-327.65 273.08,-320.11 262.56,-321.37 265.63,-327.65"/>
</g>
<!-- checkRequired -->
<g id="node11" class="node">
<title>checkRequired</title>
<polygon fill="none" stroke="black" points="143.03,-247 51.78,-203 143.03,-159 234.28,-203 143.03,-247"/>
<text text-anchor="middle" x="143.03" y="-211.4" font-family="Helvetica,sans-Serif" font-size="12.00">Are any</text>
<text text-anchor="middle" x="143.03" y="-199.4" font-family="Helvetica,sans-Serif" font-size="12.00">required fields</text>
<text text-anchor="middle" x="143.03" y="-187.4" font-family="Helvetica,sans-Serif" font-size="12.00">blank?</text>
</g>
<!-- navRequested&#45;&gt;checkRequired -->
<g id="edge10" class="edge">
<title>navRequested&#45;&gt;checkRequired</title>
<path fill="none" stroke="black" d="M134.81,-283.66C135.64,-275.65 136.67,-265.67 137.72,-255.52"/>
<polygon fill="black" stroke="black" points="141.22,-255.68 138.76,-245.37 134.25,-254.96 141.22,-255.68"/>
</g>
<!-- blockNav -->
<g id="node12" class="node">
<title>blockNav</title>
<polygon fill="none" stroke="black" points="148.08,-109 -0.03,-109 -0.03,-73 148.08,-73 148.08,-109"/>
<text text-anchor="middle" x="74.03" y="-93.4" font-family="Helvetica,sans-Serif" font-size="12.00">Navigation is blocked</text>
<text text-anchor="middle" x="74.03" y="-81.4" font-family="Helvetica,sans-Serif" font-size="12.00">and browser shows error</text>
</g>
<!-- checkRequired&#45;&gt;blockNav -->
<g id="edge11" class="edge">
<title>checkRequired&#45;&gt;blockNav</title>
<path fill="none" stroke="black" d="M122.14,-168.7C111.95,-152.46 99.89,-133.23 90.39,-118.08"/>
<polygon fill="black" stroke="black" points="93.12,-115.85 84.84,-109.24 87.19,-119.57 93.12,-115.85"/>
<text text-anchor="middle" x="114.36" y="-129.8" font-family="Times,serif" font-size="14.00">yes</text>
</g>
<!-- setInputs -->
<g id="node13" class="node">
<title>setInputs</title>
<polygon fill="none" stroke="black" points="381.96,-109 196.1,-109 196.1,-73 381.96,-73 381.96,-109"/>
<text text-anchor="middle" x="289.03" y="-87.4" font-family="Helvetica,sans-Serif" font-size="12.00">State set with contents of inputs</text>
</g>
<!-- checkRequired&#45;&gt;setInputs -->
<g id="edge13" class="edge">
<title>checkRequired&#45;&gt;setInputs</title>
<path fill="none" stroke="black" d="M178,-175.65C202.34,-157.31 234.51,-133.07 257.95,-115.41"/>
<polygon fill="black" stroke="black" points="260.29,-118.04 266.17,-109.22 256.07,-112.45 260.29,-118.04"/>
<text text-anchor="middle" x="249.03" y="-129.8" font-family="Times,serif" font-size="14.00">no</text>
</g>
<!-- blockNav&#45;&gt;idle -->
<g id="edge12" class="edge">
<title>blockNav&#45;&gt;idle</title>
<path fill="none" stroke="black" d="M64.62,-109.11C43.84,-149.46 -0.79,-252.24 43.03,-320 58.36,-343.71 86.86,-357.11 112.23,-364.63"/>
<polygon fill="black" stroke="black" points="111.57,-368.08 122.14,-367.33 113.41,-361.33 111.57,-368.08"/>
</g>
<!-- addPassage -->
<g id="node14" class="node">
<title>addPassage</title>
<polygon fill="none" stroke="black" points="479.97,-36 298.08,-36 298.08,0 479.97,0 479.97,-36"/>
<text text-anchor="middle" x="389.03" y="-14.4" font-family="Helvetica,sans-Serif" font-size="12.00">New passage appended to trail</text>
</g>
<!-- setInputs&#45;&gt;addPassage -->
<g id="edge14" class="edge">
<title>setInputs&#45;&gt;addPassage</title>
<path fill="none" stroke="black" d="M312.98,-72.99C325.99,-63.75 342.28,-52.19 356.43,-42.14"/>
<polygon fill="black" stroke="black" points="358.8,-44.76 364.92,-36.11 354.74,-39.05 358.8,-44.76"/>
</g>
<!-- addPassage&#45;&gt;setPassageVars -->
<g id="edge15" class="edge">
<title>addPassage&#45;&gt;setPassageVars</title>
<path fill="none" stroke="black" d="M415.96,-36.05C432.3,-48.69 450.03,-67.57 450.03,-90 450.03,-449 450.03,-449 450.03,-449 450.03,-465.47 441.98,-481.82 433.29,-494.67"/>
<polygon fill="black" stroke="black" points="430.31,-492.82 427.26,-502.96 435.97,-496.93 430.31,-492.82"/>
</g>
<!-- unsetAll -->
<g id="node16" class="node">
<title>unsetAll</title>
<polygon fill="none" stroke="black" points="421.26,-221 254.79,-221 254.79,-185 421.26,-185 421.26,-221"/>
<text text-anchor="middle" x="338.03" y="-205.4" font-family="Helvetica,sans-Serif" font-size="12.00">All set variables are cleared,</text>
<text text-anchor="middle" x="338.03" y="-193.4" font-family="Helvetica,sans-Serif" font-size="12.00">including trail</text>
</g>
<!-- restart&#45;&gt;unsetAll -->
<g id="edge17" class="edge">
<title>restart&#45;&gt;unsetAll</title>
<path fill="none" stroke="black" d="M313.39,-283.66C317.91,-269.04 324.46,-247.86 329.67,-231.02"/>
<polygon fill="black" stroke="black" points="333.1,-231.78 332.71,-221.19 326.41,-229.71 333.1,-231.78"/>
</g>
<!-- unsetAll&#45;&gt;setPassageVars -->
<g id="edge18" class="edge">
<title>unsetAll&#45;&gt;setPassageVars</title>
<path fill="none" stroke="black" d="M362.26,-221.05C383.84,-238.43 412.03,-267.53 412.03,-301 412.03,-449 412.03,-449 412.03,-449 412.03,-463.35 412.03,-479.33 412.03,-492.49"/>
<polygon fill="black" stroke="black" points="408.53,-492.78 412.03,-502.78 415.53,-492.78 408.53,-492.78"/>
</g>
</g>
</svg>
