<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Link Inserts</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../custom.css">

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../acknowledgments.html"><strong aria-hidden="true">2.</strong> Acknowledgments</a></li><li class="chapter-item expanded "><a href="../text-and-links/index.html"><strong aria-hidden="true">3.</strong> Text and Links</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../text-and-links/text-formatting.html"><strong aria-hidden="true">3.1.</strong> Text Formatting</a></li><li class="chapter-item expanded "><a href="../text-and-links/simple-links.html"><strong aria-hidden="true">3.2.</strong> Simple Links</a></li><li class="chapter-item expanded "><a href="../text-and-links/forks.html"><strong aria-hidden="true">3.3.</strong> Forks</a></li><li class="chapter-item expanded "><a href="../text-and-links/ways-to-link.html"><strong aria-hidden="true">3.4.</strong> Ways to Link</a></li><li class="chapter-item expanded "><a href="../text-and-links/backstage.html"><strong aria-hidden="true">3.5.</strong> Introducing Backstage</a></li></ol></li><li class="chapter-item expanded "><a href="../modifiers-and-inserts/index.html"><strong aria-hidden="true">4.</strong> Modifiers and Inserts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../modifiers-and-inserts/modifiers-and-text-alignment.html"><strong aria-hidden="true">4.1.</strong> Modifiers and Text Alignment</a></li><li class="chapter-item expanded "><a href="../modifiers-and-inserts/delayed-text.html"><strong aria-hidden="true">4.2.</strong> Delayed Text</a></li><li class="chapter-item expanded "><a href="../modifiers-and-inserts/notes.html"><strong aria-hidden="true">4.3.</strong> Notes</a></li><li class="chapter-item expanded "><a href="../modifiers-and-inserts/link-inserts.html" class="active"><strong aria-hidden="true">4.4.</strong> Link Inserts</a></li><li class="chapter-item expanded "><a href="../modifiers-and-inserts/reveal-links.html"><strong aria-hidden="true">4.5.</strong> Reveal Links</a></li><li class="chapter-item expanded "><a href="../modifiers-and-inserts/embedding-passages.html"><strong aria-hidden="true">4.6.</strong> Embedding Passages</a></li></ol></li><li class="chapter-item expanded "><a href="../state/index.html"><strong aria-hidden="true">5.</strong> Adding State to Stories</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../state/what-is-state.html"><strong aria-hidden="true">5.1.</strong> What is State?</a></li><li class="chapter-item expanded "><a href="../state/the-vars-section.html"><strong aria-hidden="true">5.2.</strong> The Vars Section</a></li><li class="chapter-item expanded "><a href="../state/displaying-variables.html"><strong aria-hidden="true">5.3.</strong> Displaying Variables</a></li><li class="chapter-item expanded "><a href="../state/conditional-display.html"><strong aria-hidden="true">5.4.</strong> Conditional Display</a></li><li class="chapter-item expanded "><a href="../state/conditions-and-variables.html"><strong aria-hidden="true">5.5.</strong> Conditions and Variables</a></li><li class="chapter-item expanded "><a href="../state/continuity.html"><strong aria-hidden="true">5.6.</strong> Continuity Between Sessions</a></li><li class="chapter-item expanded "><a href="../state/backstage.html"><strong aria-hidden="true">5.7.</strong> State Backstage</a></li><li class="chapter-item expanded "><a href="../state/objects-and-lookups.html"><strong aria-hidden="true">5.8.</strong> Objects and Lookup Variables</a></li><li class="chapter-item expanded "><a href="../state/randomness.html"><strong aria-hidden="true">5.9.</strong> Randomness</a></li></ol></li><li class="chapter-item expanded "><a href="../multimedia/index.html"><strong aria-hidden="true">6.</strong> Multimedia</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../multimedia/publishing-models.html"><strong aria-hidden="true">6.1.</strong> Publishing Models</a></li><li class="chapter-item expanded "><a href="../multimedia/images.html"><strong aria-hidden="true">6.2.</strong> Images</a></li><li class="chapter-item expanded "><a href="../multimedia/audio.html"><strong aria-hidden="true">6.3.</strong> Audio</a></li><li class="chapter-item expanded "><a href="../multimedia/video.html"><strong aria-hidden="true">6.4.</strong> Video</a></li></ol></li><li class="chapter-item expanded "><a href="../customization/index.html"><strong aria-hidden="true">7.</strong> Customization</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../customization/header-and-footer.html"><strong aria-hidden="true">7.1.</strong> The Header and Footer</a></li><li class="chapter-item expanded "><a href="../customization/fonts-and-colors.html"><strong aria-hidden="true">7.2.</strong> Fonts and Colors</a></li><li class="chapter-item expanded "><a href="../customization/external-web-fonts.html"><strong aria-hidden="true">7.3.</strong> External Web Fonts</a></li><li class="chapter-item expanded "><a href="../customization/page-style.html"><strong aria-hidden="true">7.4.</strong> Page Style</a></li><li class="chapter-item expanded "><a href="../customization/fork-style.html"><strong aria-hidden="true">7.5.</strong> Fork Style</a></li><li class="chapter-item expanded "><a href="../customization/design-considerations.html"><strong aria-hidden="true">7.6.</strong> Design Considerations</a></li></ol></li><li class="chapter-item expanded "><a href="../player-input/index.html"><strong aria-hidden="true">8.</strong> Player Input</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../player-input/text-input.html"><strong aria-hidden="true">8.1.</strong> Text Input</a></li><li class="chapter-item expanded "><a href="../player-input/dropdown-menus-cycling-links.html"><strong aria-hidden="true">8.2.</strong> Dropdown Menus and Cycling Links</a></li></ol></li><li class="chapter-item expanded "><a href="../advanced/index.html"><strong aria-hidden="true">9.</strong> Advanced Topics</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../advanced/using-javascript-in-passages.html"><strong aria-hidden="true">9.1.</strong> Using JavaScript in Passages</a></li><li class="chapter-item expanded "><a href="../advanced/using-css-in-passages.html"><strong aria-hidden="true">9.2.</strong> Using CSS in Passages</a></li><li class="chapter-item expanded "><a href="../advanced/adding-custom-inserts.html"><strong aria-hidden="true">9.3.</strong> Adding Custom Inserts</a></li><li class="chapter-item expanded "><a href="../advanced/adding-custom-modifiers.html"><strong aria-hidden="true">9.4.</strong> Adding Custom Modifiers</a></li></ol></li><li class="chapter-item expanded "><a href="../references/index.html"><strong aria-hidden="true">10.</strong> References</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../references/inserts.html"><strong aria-hidden="true">10.1.</strong> Inserts</a></li><li class="chapter-item expanded "><a href="../references/modifiers.html"><strong aria-hidden="true">10.2.</strong> Modifiers</a></li><li class="chapter-item expanded "><a href="../references/version-history.html"><strong aria-hidden="true">10.3.</strong> Version History</a></li><li class="chapter-item expanded "><a href="../references/lifecycle.html"><strong aria-hidden="true">10.4.</strong> The Chapbook Lifecycle</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="link-inserts"><a class="header" href="#link-inserts">Link Inserts</a></h1>
<p>Sometimes you'd like to link to a passage, but don't know its name exactly. Take the passage below:</p>
<pre><code>You walk a bit down the alleyway. The scent of the black trash bags simmering in the summer heat is overpowering--terrible in three separate yet indescribable ways--so you [[retreat for now]].
</code></pre>
<p>All well and good, except that alleyways often have two entrances. If a player could reach this passage two different ways, how can you make sure they return to the right place? You can use an <em>insert</em> to do this. Inserts are special instructions in passage text that are framed with curly brackets, <code>{like this}</code>, and are interpreted instead of displayed verbatim. They're called inserts because they instruct Chapbook to insert something into the text for you. In this case, we want Chapbook to insert a link to whatever passage the player was looking at before they reached this one.</p>
<p>In this case, we'd write:</p>
<pre><code>You walk a bit down the alleyway. The scent of the black trash bags simmering in the summer heat is overpowering--terrible in three separate yet indescribable ways--so you {back link, label: 'retreat for now'}.
</code></pre>
<p>Inserts follow this format:</p>
<p class="insert-example">
	<span class="punc">{</span>
	<span class="identifier">insert name</span>
	<span class="punc">:</span>
	<span class="direct-object">value</span>
	<span class="punc">,</span>
	<span class="param1">
		<span class="param-name">parameter name</span>
		<span class="punc">:</span>
		<span class="param-value">value</span>
	</span>
	<span class="punc">,</span>
	<span class="param2">
		<span class="param-name">parameter name</span>
		<span class="punc">:</span>
		<span class="param-value">value</span>
	</span>
	<span class="punc">}</span>
</p>
<ul>
<li>The <em>insert name</em> signals what type of insert this is, i.e. <code>back link</code>.</li>
<li><em>Parameter names</em> signal more specific descriptions of how the insert should
appear or behave, i.e. <code>label</code>. Each kind of insert accepts different
parameter names. Parameter names, unlike values, never have quotation marks
around them. An insert can have any number of parameters, including none.
Two are shown in the example above to demonstrate that they are divided by
commas.</li>
<li><em>Values</em> are where you specify the behavior of the insert. If a parameter
value is text--like the words <code>'retreat for now'</code>--they must have either
single or double quotation marks around them, so that Chapbook knows where
the beginning and end of the text is. There's no difference in how single or
double quotation marks are handled; it's just convenient to write <code>{back link, label: 'Exclaim, &quot;Well, I never!&quot;'}</code>.<sup class="footnote-reference"><a href="#1">1</a></sup> Any other types of values,
such as numbers, must not have quotation marks around them. </li>
</ul>
<p>An insert must have its contents all on one line--no line breaks with the Enter or Return key are permitted.</p>
<p>Everything in the example above is optional except the insert name. Different inserts use different variations of this usage--for instance, the <code>back link</code> insert does not use a value following the insert name:</p>
<p class="insert-example">
	<span class="punc">{</span>
	<span class="identifier">back link</span>
	<span class="punc">,</span>
	<span class="param1">
		<span class="param-name">label</span>
		<span class="punc">:</span>
		<span class="param-value">'retreat for now'</span>
	</span>
	<span class="punc">}</span>
</p>
<p>You can also leave off the <code>label</code> property and just write <code>{back link}</code>: in this case, Chapbook will assume you'd like it to use the word 'Back' as the link label.</p>
<p>If Chapbook is unable to understand the contents of an insert, it displays it as-is. This is so that you can otherwise use curly brackets in your text.</p>
<aside data-hint="danger">
You cannot nest inserts inside each other.
</aside>
<h2 id="restarting-the-story"><a class="header" href="#restarting-the-story">Restarting the Story</a></h2>
<p>There's another insert very similar to <code>{back link}</code> that's named <code>{restart link}</code>. Instead of going to a previous passage, it takes the player back to the very beginning of the story. You could of course link back to the first passage by name, but for now, consider this a handy shortcut. <code>{restart link}</code> also resets other aspects of Chapbook's operation, as you'll learn in <a href="../state/continuity.html">Continuity Between Sessions</a>.</p>
<p>As with <code>{back link}</code>, <code>{restart link}</code> allows you to specify a label:</p>
<pre><code>{restart link, label: 'Oh forget it all'}
</code></pre>
<p>If you write <code>{restart link}</code> by itself, Chapbook will use the label 'Restart'.</p>
<h2 id="manual-links"><a class="header" href="#manual-links">Manual Links</a></h2>
<p>You can also insert a link using the insert <code>{link to}</code>. Below are some examples:</p>
<pre><code>You decide after entirely too much deliberation to download {link to: 'https://mozilla.org/firefox', label: 'Firefox'}.

You notice that there is a {link to: 'narrow alleyway'} off to one side.

A {link to: 'Bryan Mills', label: 'A man with *certain* skills'} is just who's needed.
</code></pre>
<p>The third example demonstrates one use of manual link inserts: although they are more verbose than simple links, they do allow you to enter Markdown formatting into the link label. Passage links also have other uses; see <a href="../state/the-vars-section.html#expressions-can-be-used-in%20inserts">The Vars Section</a> for how you can change the destination of a link dynamically.</p>
<h2 id="cycling-links"><a class="header" href="#cycling-links">Cycling Links</a></h2>
<p>Chapbook has an insert for cycling links--that is, links that do not move the player anywhere, but change their label. See <a href="../player-input/menus-cycling-links.html">Menus and Cycling Links</a> for more information.</p>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>If you need to use a single or double quote inside a text value set off with the same punctuation mark, put a backslash (<code>\</code>) in front of it, like so: <code>{back link, label: '&quot;I couldn\'t possibly comment,&quot; he replied.'}</code></p>
</div>
<style>
.insert-example {
	font-size: 120%;
	text-align: center;
	display: flex;
	justify-content: center;
}

.insert-example span {
	display: flex;
}

.insert-example .punc {
	padding: 0 0.2em;
	color: #868e96; /* gray-6 */
	background-color: #f1f3f5; /* gray-1 */
}

.insert-example .identifier {
	padding: 0 0.2em;
	background-color: #ffe3e3; /* red-1 */
}

.insert-example .direct-object, .insert-example .param-value {
	padding: 0 0.2em;
	background-color: #d0ebff; /* blue-1 */
}

.insert-example .param-name {
	padding: 0 0.2em;
	background-color: #ffe8cc; /* orange-1 */
}
</style>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../modifiers-and-inserts/notes.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../modifiers-and-inserts/reveal-links.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../modifiers-and-inserts/notes.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../modifiers-and-inserts/reveal-links.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
