<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>The Vars Section</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../custom.css">

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../acknowledgments.html"><strong aria-hidden="true">2.</strong> Acknowledgments</a></li><li class="chapter-item expanded "><a href="../text-and-links/index.html"><strong aria-hidden="true">3.</strong> Text and Links</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../text-and-links/text-formatting.html"><strong aria-hidden="true">3.1.</strong> Text Formatting</a></li><li class="chapter-item expanded "><a href="../text-and-links/simple-links.html"><strong aria-hidden="true">3.2.</strong> Simple Links</a></li><li class="chapter-item expanded "><a href="../text-and-links/forks.html"><strong aria-hidden="true">3.3.</strong> Forks</a></li><li class="chapter-item expanded "><a href="../text-and-links/ways-to-link.html"><strong aria-hidden="true">3.4.</strong> Ways to Link</a></li><li class="chapter-item expanded "><a href="../text-and-links/backstage.html"><strong aria-hidden="true">3.5.</strong> Introducing Backstage</a></li></ol></li><li class="chapter-item expanded "><a href="../modifiers-and-inserts/index.html"><strong aria-hidden="true">4.</strong> Modifiers and Inserts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../modifiers-and-inserts/modifiers-and-text-alignment.html"><strong aria-hidden="true">4.1.</strong> Modifiers and Text Alignment</a></li><li class="chapter-item expanded "><a href="../modifiers-and-inserts/delayed-text.html"><strong aria-hidden="true">4.2.</strong> Delayed Text</a></li><li class="chapter-item expanded "><a href="../modifiers-and-inserts/notes.html"><strong aria-hidden="true">4.3.</strong> Notes</a></li><li class="chapter-item expanded "><a href="../modifiers-and-inserts/link-inserts.html"><strong aria-hidden="true">4.4.</strong> Link Inserts</a></li><li class="chapter-item expanded "><a href="../modifiers-and-inserts/reveal-links.html"><strong aria-hidden="true">4.5.</strong> Reveal Links</a></li><li class="chapter-item expanded "><a href="../modifiers-and-inserts/embedding-passages.html"><strong aria-hidden="true">4.6.</strong> Embedding Passages</a></li></ol></li><li class="chapter-item expanded "><a href="../state/index.html"><strong aria-hidden="true">5.</strong> Adding State to Stories</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../state/what-is-state.html"><strong aria-hidden="true">5.1.</strong> What is State?</a></li><li class="chapter-item expanded "><a href="../state/the-vars-section.html" class="active"><strong aria-hidden="true">5.2.</strong> The Vars Section</a></li><li class="chapter-item expanded "><a href="../state/displaying-variables.html"><strong aria-hidden="true">5.3.</strong> Displaying Variables</a></li><li class="chapter-item expanded "><a href="../state/conditional-display.html"><strong aria-hidden="true">5.4.</strong> Conditional Display</a></li><li class="chapter-item expanded "><a href="../state/conditions-and-variables.html"><strong aria-hidden="true">5.5.</strong> Conditions and Variables</a></li><li class="chapter-item expanded "><a href="../state/continuity.html"><strong aria-hidden="true">5.6.</strong> Continuity Between Sessions</a></li><li class="chapter-item expanded "><a href="../state/backstage.html"><strong aria-hidden="true">5.7.</strong> State Backstage</a></li><li class="chapter-item expanded "><a href="../state/objects-and-lookups.html"><strong aria-hidden="true">5.8.</strong> Objects and Lookup Variables</a></li><li class="chapter-item expanded "><a href="../state/randomness.html"><strong aria-hidden="true">5.9.</strong> Randomness</a></li></ol></li><li class="chapter-item expanded "><a href="../multimedia/index.html"><strong aria-hidden="true">6.</strong> Multimedia</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../multimedia/publishing-models.html"><strong aria-hidden="true">6.1.</strong> Publishing Models</a></li><li class="chapter-item expanded "><a href="../multimedia/images.html"><strong aria-hidden="true">6.2.</strong> Images</a></li><li class="chapter-item expanded "><a href="../multimedia/audio.html"><strong aria-hidden="true">6.3.</strong> Audio</a></li><li class="chapter-item expanded "><a href="../multimedia/video.html"><strong aria-hidden="true">6.4.</strong> Video</a></li></ol></li><li class="chapter-item expanded "><a href="../customization/index.html"><strong aria-hidden="true">7.</strong> Customization</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../customization/header-and-footer.html"><strong aria-hidden="true">7.1.</strong> The Header and Footer</a></li><li class="chapter-item expanded "><a href="../customization/fonts-and-colors.html"><strong aria-hidden="true">7.2.</strong> Fonts and Colors</a></li><li class="chapter-item expanded "><a href="../customization/external-web-fonts.html"><strong aria-hidden="true">7.3.</strong> External Web Fonts</a></li><li class="chapter-item expanded "><a href="../customization/page-style.html"><strong aria-hidden="true">7.4.</strong> Page Style</a></li><li class="chapter-item expanded "><a href="../customization/fork-style.html"><strong aria-hidden="true">7.5.</strong> Fork Style</a></li><li class="chapter-item expanded "><a href="../customization/design-considerations.html"><strong aria-hidden="true">7.6.</strong> Design Considerations</a></li></ol></li><li class="chapter-item expanded "><a href="../player-input/index.html"><strong aria-hidden="true">8.</strong> Player Input</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../player-input/text-input.html"><strong aria-hidden="true">8.1.</strong> Text Input</a></li><li class="chapter-item expanded "><a href="../player-input/dropdown-menus-cycling-links.html"><strong aria-hidden="true">8.2.</strong> Dropdown Menus and Cycling Links</a></li></ol></li><li class="chapter-item expanded "><a href="../advanced/index.html"><strong aria-hidden="true">9.</strong> Advanced Topics</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../advanced/using-javascript-in-passages.html"><strong aria-hidden="true">9.1.</strong> Using JavaScript in Passages</a></li><li class="chapter-item expanded "><a href="../advanced/using-css-in-passages.html"><strong aria-hidden="true">9.2.</strong> Using CSS in Passages</a></li><li class="chapter-item expanded "><a href="../advanced/adding-custom-inserts.html"><strong aria-hidden="true">9.3.</strong> Adding Custom Inserts</a></li><li class="chapter-item expanded "><a href="../advanced/adding-custom-modifiers.html"><strong aria-hidden="true">9.4.</strong> Adding Custom Modifiers</a></li></ol></li><li class="chapter-item expanded "><a href="../references/index.html"><strong aria-hidden="true">10.</strong> References</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../references/inserts.html"><strong aria-hidden="true">10.1.</strong> Inserts</a></li><li class="chapter-item expanded "><a href="../references/modifiers.html"><strong aria-hidden="true">10.2.</strong> Modifiers</a></li><li class="chapter-item expanded "><a href="../references/version-history.html"><strong aria-hidden="true">10.3.</strong> Version History</a></li><li class="chapter-item expanded "><a href="../references/lifecycle.html"><strong aria-hidden="true">10.4.</strong> The Chapbook Lifecycle</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="the-vars-section"><a class="header" href="#the-vars-section">The Vars Section</a></h1>
<p>The primary way that Chapbook allows you to work with state is through <em>vars (short for variables) sections</em>. These sections always come at the beginning of a passage and are separated from normal text by two dashes (<code>--</code>).</p>
<p>To carry forward the example from the previous section, here's how a desperately stereotypical dungeon crawl's first passage might look:</p>
<pre><code>strength: 18
dexterity: 7
constitution: 14
intelligence: 9
wisdom: 8
charisma: 11
--
After a lusty evening in the village tavern, you set off down the trail to
the nearest dungeon. It's a bright, sunny day, and you're happy to have a
clear destination in mind.
</code></pre>
<p>When the player visits this passage, Chapbook will add six variables to the story's state: <code>strength</code>, <code>dexterity</code>, <code>constitution</code>, and so on, and sets them to the numbers listed.</p>
<p>Vars sections never display anything to the player; this is so that, for example, you can set a variable named <code>doomedToDieInFiveMinutes</code> and the player will be none the wiser unless you wish it.</p>
<aside data-hint="info">
If a passage is embedded in another using the <code>{embed passage}</code> modifier, its vars section will also take effect.
</aside>
<p>You may only have one vars section in each passage, but then there's really only ever need for one. The name of state variables must follow a few rules, too. They must start with a letter (upper or lowercase), underscore (<code>_</code>), or dollar sign (<code>$</code>); after the first character can come any combination of the preceding kinds of characters as well as digits.<sup class="footnote-reference"><a href="#1">1</a></sup></p>
<p>Sadly, you can't use spaces in your variable names. Because of this, a common practice called <em>camel casing</em> (because of the camel-like humps in the resulting word) glues phrases together using capital letters, like the <code>doomedToDieInFiveMinutes</code> example above. Another school of thought, <em>snake casing</em>, prefers to use underscores instead; e.g. <code>doomed_to_die_in_five_minutes</code>. Either's perfectly fine. Use whichever feels most comfortable to you.</p>
<p>Another common practice is to put an underscore in front of variable names when the value will only be used in the current passage. This practice is just a hint to yourself; Chapbook does not enforce this usage.<sup class="footnote-reference"><a href="#2">2</a></sup></p>
<aside data-hint="info">
A variable name can contain periods (<code>.</code>), but they carry a special meaning. Until you've read <a href="objects-and-lookups.html">Objects and Lookup Values</a>, it's best to leave them out of variable names.
</aside>
<aside data-hint="danger">
<p>
Chapbook and web browsers reserve certain variable names for their own use. If you try to use a variable whose name overlaps them, unpredictable things may happen, so you should avoid them. Chapbook reserves the following names:
</p>
<ul>
<li><code>browser</code></li>
<li><code>engine</code></li>
<li><code>now</code></li>
<li><code>passage</code></li>
<li><code>random</code></li>
<li><code>story</code></li>
</ul>
<p>
The browser reserves quite a few (over two hundred at time of writing), but you're unlikely to want to use most of them, like <code>ondeviceorientation</code>. See <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window#Properties">the exhaustive list</a> for more details.
</p>
</aside>
<p>The only time variable names are shown to a player is if an error occurs in your story while they are playing it, so choose names that are easy to remember and descriptive. There's no need for a <code>clueF</code> variable when you can have <code>sawFootprintsInVault</code> instead.</p>
<h2 id="variables-have-types"><a class="header" href="#variables-have-types">Variables Have Types</a></h2>
<p>The example at the start of this section assigned numbers to variables, but variables can hold other types of values.</p>
<p><em>Strings</em> are collections of letters, numbers, spaces, and other symbols. Strings are surrounded by either apostrophes (<code>'</code>) or quotation marks (<code>&quot;</code>) so that's it clear where they begin and end, in the same way that is used for textual parameter values. You can use either punctuation mark to mark off a string's beginning and end, but just like Markdown italics and bold, you have to be consistent with each usage. If you need to use a delimiter character inside a string, type a backslash (<code>\</code>) in front of it, e.g. <code>'Don\'t, just don\'t.'</code>.</p>
<p>Strings are great for storing names for things. For example, if you want to allow the player to set the name of the main character at the start of a story, a string would be the best type of variable to use. You can also use strings to store fuzzy kinds of values. You could record the state of a relationship between two characters as <code>'friendly'</code>, <code>'neutral'</code>, <code>'wary'</code>, or <code>'hostile'</code>.</p>
<p><em>Booleans</em> simply record a true or false value. Like numbers, you don't need to put anything around a boolean to signal what it is; just type <code>true</code> or <code>false</code>. Booleans are good for recording whether something has occurred in a story; for example, whether the main character has found a clue.</p>
<p>There are other, more complex types of values that will be discussed later, but numbers, strings, and booleans will get you quite far. To review, here's an example of a passage whose vars section contains all three types of variables.</p>
<pre><code>dollarsInPocket: 12
openedPortalToAlternateDimension: true
name: 'James'
--
You've nearly reached the end of your adventure.
</code></pre>
<h2 id="variables-can-be-calculated"><a class="header" href="#variables-can-be-calculated">Variables Can Be Calculated</a></h2>
<p>You don't have to set variables to plain values--meaning, a vars section could look like this when the main character finds a dollar lying on the ground:</p>
<pre><code>dollarsInPocket: dollarsInPocket + 1
</code></pre>
<p>This vars section increases the <code>dollarsInPocket</code> variable by 1 using an <em>expression</em>. You can think of an expression as a formula or calculation. It's anything that can be transformed into a single value via the <em>evaluation</em> process. For example, you can use the basic mathematical operations--addition, subtraction, multiplication, and division--with numeric variables. You can also use addition to connect two strings together--for instance, <code>fullName: first + ' ' + last</code>--but you cannot use any other mathematical operators with strings.</p>
<p>You can also compare two numbers or strings, yielding a boolean.</p>
<ul>
<li>
<p><code>===</code>, &quot;equal to&quot;<br />
True if both sides are the same number or string. Strings have to be exactly the same: <code>'DOE'</code> does not equal <code>'doe'</code>, nor does <code>'doe '</code> (note the trailing space) equal <code>'doe'</code>.</p>
</li>
<li>
<p><code>!==</code>, &quot;not equal to&quot;<br />
True if both sides aren't the same.</p>
</li>
<li>
<p><code>&gt;</code>, &quot;greater than,&quot; and <code>&gt;=</code>, &quot;greater than or equal to&quot;<br />
True if the left side is larger than the right side. If you use <code>&gt;=</code>, then this is also true when the two sides are equal.</p>
</li>
<li>
<p><code>&lt;</code>, &quot;less than,&quot; and <code>&lt;=</code>, &quot;less than or equal to&quot;<br />
True if the left side is smaller than the right side. If you use <code>&lt;=</code>, then this is also true when the two sides are equal.</p>
</li>
</ul>
<p>Generally speaking, one string is considered larger than another if it would come after it in alphabetical order. For example, <code>'b' &gt; 'a'</code>. But these comparisons can be confusing and unintuitive. Is <code>'+'</code> greater than <code>'&amp;'</code>? It in fact is, but would you know at a glance? It might surprise you to learn than <code>'A' &lt; 'a'</code>.<sup class="footnote-reference"><a href="#3">3</a></sup> So it is usually best not to use greater-than or less-than operators with strings.</p>
<p>Below is an example vars section that demonstrates how these can be used.</p>
<pre><code>correct: guess === 3
nighttime: hour &gt;= 18
--
The quizmaster leans back in his chair and grins.
</code></pre>
<p>Boolean variables have their own separate set of operators.</p>
<ul>
<li>
<p><code>!</code>, &quot;not&quot;<br />
Changes a true value to false and vice versa.</p>
</li>
<li>
<p><code>&amp;&amp;</code>, &quot;and&quot;<br />
True only if both sides are true.</p>
</li>
<li>
<p><code>||</code>, &quot;or&quot;<br />
True if one or both sides are true.</p>
</li>
</ul>
<aside data-hint="danger">
You cannot use inserts or modifiers in vars sections. They only work inside the displayed text of your passage.
</aside>
<h2 id="clarifying-expressions-with-parentheses"><a class="header" href="#clarifying-expressions-with-parentheses">Clarifying Expressions With Parentheses</a></h2>
<p>Often expressions are complex. For example, in a simple role-playing scenario, you might decide a character armed with a hammer does <code>strength * 2 + 4</code> damage. But if <code>strength</code> is 12, does that mean that the expression evaluates to 28 (multiply 12 by 2, then add 4) or 72 (add 2 to 4, then multiply by 12)?</p>
<p>You may remember from algebra class that mathematical operators have rules relating to precedence; specifically, multiplication occurs before addition. But you probably have never been taught what the rules are for boolean logic--e.g. what does <code>!true || false</code> evaluate to?<sup class="footnote-reference"><a href="#4">4</a></sup>--and even if you do know the rules, it can be tricky to correctly apply them in a complex expression.</p>
<p>In these situations, you can use parentheses to help make an expression easy to follow, or even to override the normal order of operations. <code>(strength * 2) + 4</code> makes it clear how the expression will be evaluated--and if indeed you wanted the answer above to be 72, you can specify that by writing <code>strength * (2 + 4)</code>.</p>
<h2 id="evaluation-only-happens-once"><a class="header" href="#evaluation-only-happens-once">Evaluation Only Happens Once</a></h2>
<p>An important thing to remember about setting a variable to an expression is that the evaluation only happens once, when you set the variable. Imagine this scenario:</p>
<ol>
<li>In a passage, you set the variable <code>teethChattering</code> to <code>temperature &lt; 0</code>.</li>
<li>In a later passage, the protagonist moves inside and sets <code>temperature: temperature + 20</code>.</li>
</ol>
<p>The variables are now inconsistent: <code>teethChattering</code> is true but <code>temperature</code> is above 0. The best way to avoid this problem is to avoid making a variable completely derived from another. You don't need a separate variable named <code>teethChattering</code> if all it does is reflect whether <code>temperature</code> is greater than 0. A better use would be setting <code>hasACold: temperature &lt; 0 &amp;&amp; !wearingJacket</code>, to reflect that the protagonist caught a cold by being outside without a jacket. They may subsequently go inside or put on a jacket, but obviously neither change will affect the fact that the protagonist <code>hasACold</code>.</p>
<h2 id="expressions-can-be-used-in-inserts"><a class="header" href="#expressions-can-be-used-in-inserts">Expressions Can Be Used in Inserts</a></h2>
<p>An expression can be used in place of a value in an insert. For example, the passage below:</p>
<pre><code>target: 'another passage'
--
{embed passage: target}
</code></pre>
<p>Will display the contents of the passage named 'another passage'. Remember that this usage differs from placing a variable name in quotation marks, which Chapbook treats as a string. That is, this passage:</p>
<pre><code>target: 'another passage'
--
{embed passage: 'target'}
</code></pre>
<p>Shows the contents of the passage named 'target' instead. This can be confusing, of course. The simplest rule to keep in mind is that quotation marks, either single or double, always go around strings. If you don't see quotation marks around something, it will be evaluated.</p>
<p>As the heading advertises, inserts can use entire expressions, not just variables, as values. For instance:</p>
<pre><code>petType: 'cat'
activity: 'Walk'
--
{embed passage: petType + activity}
</code></pre>
<p>Will display the contents of the passage 'catWalk'.</p>
<div class="footnote-definition" id="1"><sup class="footnote-definition-label">1</sup>
<p>You can use non-Latin characters in variable names, such as <code>sabiduría</code> or <code>мудрость</code>, but bear in mind that older web browsers that do not fully support the Unicode standard--in practice, old versions of Internet Explorer that have miniscule usage rates nowadays--may be deeply confused by them.
<sup class="footnote-reference"><a href="#2">2</a></sup>: The SugarCube story format popularized this practice, and in fact does discard variables whose name starts with an underscore after the player navigates to another passage. 
<sup class="footnote-reference"><a href="#3">3</a></sup>: The final authority on ordering characters in a string is the Unicode standard. Characters are compared by their Unicode code points; a higher numeric code point means that a character is greater than another.
<sup class="footnote-reference"><a href="#4">4</a></sup>: In case you're curious, <code>!true || false</code> evaluates to false. The not operator takes precedent over the or.</p>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../state/what-is-state.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../state/displaying-variables.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../state/what-is-state.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../state/displaying-variables.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
